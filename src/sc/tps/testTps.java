package sc.tps;

import java.awt.Color;
import java.awt.Graphics2D;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;

import javax.imageio.ImageIO;

import Jama.Matrix;

public class testTps {
	public static void main(String[] args) throws IOException {
		double[][] X = { { 44.7762840399862, 61 }, { 45.2464622641509, 41 },
				{ 22.0940366972477, 21 }, { 44.5123661867848, 60 },
				{ 45.2528182245186, 44 }, { 24, 20.2546130189646 },
				{ 24.2319241406559, 29 }, { 38.4454787234043, 59 },
				{ 25.6563376332025, 32 }, { 18.1436222005842, 30 },
				{ 44.6029942279942, 47 }, { 25, 25.6132030505243 },
				{ 44.2884990253411, 59 }, { 39, 65.0773809523810 },
				{ 26.8917589175892, 33 }, { 45.7299528301887, 30 },
				{ 32, 35.6270815074496 }, { 33, 22.9202127659574 },
				{ 40, 30.1109022556391 }, { 47.3694690265487, 23 },
				{ 26.0579941473796, 39 }, { 30, 23.2430727362692 },
				{ 38.4454787234043, 64 }, { 45.4245283018868, 36 },
				{ 38.4454787234043, 54 }, { 39.3095238095238, 19 },
				{ 33, 18.0024557956778 }, { 31, 23.0435717519239 },
				{ 31, 40.4810286677909 }, { 35, 18.0425790754258 },
				{ 44.2884990253411, 51 }, { 29, 40.2967863894140 },
				{ 19, 23.9927293064877 }, { 46, 20.3537966932027 },
				{ 18.4318181818182, 32 }, { 21, 21.9770856507230 },
				{ 28, 19.4689265536723 }, { 44, 20.0768698060942 },
				{ 18.4285150078989, 26 }, { 20, 23.1348508033665 },
				{ 45.9570184983678, 26 }, { 44.8689736267428, 46 },
				{ 46.4246424642464, 25 }, { 33, 40.5256147540984 },
				{ 29, 34.5424484488204 }, { 45.2511792452830, 39 },
				{ 45.7299528301887, 27 }, { 41, 20.4118497109827 },
				{ 37, 18.2034883720930 }, { 39.2547452547453, 28 },
				{ 25, 38.4079092920354 }, { 19, 33.2500000000000 },
				{ 28, 33.6333333333333 }, { 44.3259273570325, 49 },
				{ 44.9915556999026, 62 }, { 27, 20.1475995914198 },
				{ 18.1862980769231, 28 }, { 27.8943661971831, 40 },
				{ 47, 24.0066476733143 }, { 45, 64.7308602999211 },
				{ 30, 18.2995867768595 }, { 40.1393737166324, 29 },
				{ 45.7299528301887, 33 }, { 38.4454787234043, 56 },
				{ 26, 24.4839243498818 }, { 29, 18.6162177985949 },
				{ 47.6328006088280, 22 }, { 27, 23.7547923322684 },
				{ 47.2184512428298, 21 }, { 20.2270540340489, 35 },
				{ 44.2884990253411, 57 }, { 34.2806324110672, 23 },
				{ 36.0705090116855, 24 }, { 38.4454787234043, 47 },
				{ 44.0090538705297, 66 }, { 38, 18.4409814323607 },
				{ 42, 67.3848741954359 } };

		double[][] Y = { { 37.6900000000000, 60 }, { 43.6174879807692, 40 },
				{ 29, 20.4905358182877 }, { 38.7247081712062, 57 },
				{ 42.5767716535433, 43 }, { 29.9252952485581, 20 },
				{ 30.1580310880829, 29 }, { 32.6937264404954, 56 },
				{ 30.0984455958549, 31 }, { 24.3788987293030, 29 },
				{ 41.4638888888889, 45 }, { 30.6347150259067, 27 },
				{ 38, 58.7738095238095 }, { 32, 65.3507462686567 },
				{ 30.4879421221865, 33 }, { 50.3045084055018, 30 },
				{ 35, 35.5465485921889 }, { 36.3769322235434, 21 },
				{ 43, 30.0185512367491 }, { 50.5602409638554, 23 },
				{ 28.8286802030457, 39 }, { 33.6542553191489, 23 },
				{ 31, 64.7992756385818 }, { 47.7530769230769, 34 },
				{ 33.1944444444444, 53 }, { 44, 17.3290273556231 },
				{ 36, 16.2835609150559 }, { 35, 22.0506807866868 },
				{ 34, 41.9035277177826 }, { 37, 15.9500000000000 },
				{ 40.6826484018265, 48 }, { 33, 40.9141791044776 },
				{ 26.4654510556622, 23 }, { 49, 20.8533822590938 },
				{ 25, 31.3037267080745 }, { 28, 21.0883575883576 },
				{ 32, 18.4186390532544 }, { 47, 18.6868654822335 },
				{ 25.7163335086796, 25 }, { 27.0442458587620, 22 },
				{ 51, 27.0883458646617 }, { 43.1860955056180, 41 },
				{ 51.1218274111675, 26 }, { 32, 40.4244730679157 },
				{ 32.4501647446458, 35 }, { 44.7014519056261, 38 },
				{ 50, 31.3324797268459 }, { 45.5089928057554, 18 },
				{ 39, 15.5378787878788 }, { 44.1582150101420, 25 },
				{ 27.4138418079096, 38 }, { 25.4858444116199, 35 },
				{ 31, 34.0379921713102 }, { 42.0318371607516, 44 },
				{ 40, 55.1411764705882 }, { 31.0849825378347, 19 },
				{ 24.8903878583474, 28 }, { 30.5979262672811, 40 },
				{ 50.9988123515440, 24 }, { 37, 64.3062678062678 },
				{ 33, 17.8646496815287 }, { 44, 27.3690476190476 },
				{ 49, 32.6713114754098 }, { 33, 54.6034482758621 },
				{ 32.0013534416087, 25 }, { 34.4425087108014, 17 },
				{ 48.0589373680507, 20 }, { 32.7258842443730, 24 },
				{ 50, 21.8365097588978 }, { 25.7777030661646, 36 },
				{ 40.4561403508772, 53 }, { 38.1293103448276, 21 },
				{ 40, 21.2751322751323 }, { 34.4795266716754, 47 },
				{ 36.0661553211889, 65 }, { 42, 15.5972104818259 },
				{ 35, 65.3263733809737 },

		};
		System.out.println(X.length);
		System.out.println(Y.length);

		double width = 0, height = 0;
		for (int i = 0; i < Y.length; i++) {
			if (Y[i][0] > width) {
				width = Y[i][0];
			}
			if (X[i][0] > width) {
				width = X[i][0];
			}

			if (Y[i][1] > height) {
				height = Y[i][0];
			}
			if (X[i][1] > height) {
				height = X[i][0];
			}
		}

		TPS tps = new TPS();
		tps.bookStein(X, Y, 1000);

		width = width * 10 + 100;
		height = height * 10 + 100;
		int N = 10;
		int R = 10;

		BufferedImage bufferedImage = new BufferedImage((int) width,
				(int) height, BufferedImage.TYPE_INT_RGB);
		Graphics2D graphics2d = bufferedImage.createGraphics();

		graphics2d.setColor(Color.red);
		for (int i = 0; i < Y.length; i++) {
			graphics2d.drawRect((int) X[i][0] * N, (int) X[i][1] * N, R, R);
		}

		graphics2d.setColor(Color.blue);
		for (int i = 0; i < Y.length; i++) {
			graphics2d.drawOval((int) Y[i][0] * N, (int) Y[i][1] * N, R, R);
		}

		graphics2d.setColor(Color.green);
		for (int i = 0; i < Y.length; i++) {
			graphics2d.drawOval((int) tps.Z[i][0] * N, (int) tps.Z[i][1] * N,
					R, R);
		}
		Matrix zMatrix = new Matrix(tps.Z);
		zMatrix.print(5, 5);

		File file = new File("tpsresult.jpg");
		ImageIO.write(bufferedImage, "jpg", file);
	}
}
